/**
 * Global Responsive Improvements
 * Modern, Mobile-First Responsive Design
 * Applied to all pages
 */

/* ============================================
   Enhanced Mobile Menu (Pure CSS)
   ============================================ */

@media (max-width: 768px) {
    /* Mobile Menu Toggle - Show on mobile */
    .khezana-mobile-menu-toggle {
        display: flex !important;
    }

    /* Ensure nav actions are visible on mobile */
    .khezana-nav-actions {
        display: flex !important;
        gap: 0.5rem;
    }

    /* Hide some buttons on very small screens */
    @media (max-width: 480px) {
        .khezana-nav-actions .khezana-btn-secondary:not(.khezana-btn-cta) {
            display: none;
        }

        .khezana-btn-cta {
            font-size: 0.8125rem !important;
            padding: 0.5rem 0.875rem !important;
        }
    }
}

/* ============================================
   Enhanced Typography Scaling
   ============================================ */

@media (max-width: 640px) {
    :root {
        --khezana-font-size-base: 0.9375rem;
        --khezana-font-size-lg: 1.0625rem;
        --khezana-font-size-xl: 1.1875rem;
        --khezana-font-size-2xl: 1.375rem;
        --khezana-font-size-3xl: 1.625rem;
        --khezana-font-size-4xl: 1.875rem;
    }

    h1, .khezana-hero-title {
        font-size: var(--khezana-font-size-3xl) !important;
        line-height: 1.2;
    }

    h2, .khezana-section-title {
        font-size: var(--khezana-font-size-2xl) !important;
        line-height: 1.3;
    }

    h3 {
        font-size: var(--khezana-font-size-xl) !important;
    }
}

/* ============================================
   Enhanced Item Detail Page Responsive
   ============================================ */

@media (max-width: 1024px) {
    .khezana-item-detail-layout {
        grid-template-columns: 1fr !important;
        gap: var(--khezana-spacing-xl) !important;
    }

    .khezana-item-images {
        position: static !important;
        margin-bottom: var(--khezana-spacing-lg);
    }

    .khezana-item-main-image {
        aspect-ratio: 16 / 10;
    }

    .khezana-item-thumbnails {
        grid-template-columns: repeat(auto-fill, minmax(80px, 1fr)) !important;
        gap: var(--khezana-spacing-sm) !important;
    }
}

@media (max-width: 640px) {
    .khezana-item-detail-title {
        font-size: var(--khezana-font-size-2xl) !important;
        line-height: 1.3;
    }

    .khezana-price-amount {
        font-size: var(--khezana-font-size-3xl) !important;
    }

    .khezana-attributes-grid {
        grid-template-columns: 1fr !important;
        gap: var(--khezana-spacing-sm) !important;
    }

    .khezana-item-thumbnails {
        grid-template-columns: repeat(4, 1fr) !important;
        gap: var(--khezana-spacing-xs) !important;
    }
}

/* ============================================
   Enhanced Forms Responsive
   ============================================ */

@media (max-width: 768px) {
    .khezana-form-group {
        margin-bottom: var(--khezana-spacing-md);
    }

    .khezana-form-input,
    .khezana-form-select,
    .khezana-form-textarea {
        font-size: 16px; /* Prevents zoom on iOS */
        padding: 1rem 1.25rem;
        min-height: 52px;
    }

    .khezana-form-label {
        font-size: var(--khezana-font-size-base);
        margin-bottom: var(--khezana-spacing-xs);
        font-weight: 600;
    }

    .khezana-form-actions {
        flex-direction: column;
        gap: var(--khezana-spacing-sm);
    }

    .khezana-btn-block {
        width: 100%;
        min-height: 52px;
        font-size: var(--khezana-font-size-base);
    }
}

/* ============================================
   Enhanced Cards & Grids
   ============================================ */

@media (max-width: 1024px) {
    .khezana-items-grid {
        grid-template-columns: repeat(auto-fill, minmax(220px, 1fr)) !important;
        gap: var(--khezana-spacing-md) !important;
    }

    .khezana-requests-grid {
        grid-template-columns: repeat(auto-fill, minmax(250px, 1fr)) !important;
        gap: var(--khezana-spacing-md) !important;
    }
}

@media (max-width: 640px) {
    .khezana-items-grid {
        grid-template-columns: repeat(2, 1fr) !important;
        gap: var(--khezana-spacing-sm) !important;
    }

    .khezana-requests-grid {
        grid-template-columns: 1fr !important;
        gap: var(--khezana-spacing-md) !important;
    }

    .khezana-item-card,
    .khezana-request-card {
        border-radius: var(--khezana-radius);
    }

    .khezana-item-image {
        height: 180px;
    }
}

/* ============================================
   Enhanced Home Page Sections
   ============================================ */

@media (max-width: 768px) {
    .khezana-services-grid {
        grid-template-columns: repeat(2, 1fr) !important;
        gap: var(--khezana-spacing-md) !important;
    }

    .khezana-service-card {
        padding: var(--khezana-spacing-md);
        border-radius: var(--khezana-radius);
    }

    .khezana-service-icon {
        width: 56px;
        height: 56px;
        font-size: var(--khezana-font-size-xl);
    }

    .khezana-service-title {
        font-size: var(--khezana-font-size-lg);
    }

    .khezana-steps {
        flex-direction: column;
        gap: var(--khezana-spacing-lg);
        padding: 0 var(--khezana-spacing-md);
    }

    .khezana-step {
        width: 100%;
        padding: var(--khezana-spacing-lg);
        border-radius: var(--khezana-radius-lg);
    }

    .khezana-step-number {
        width: 3rem;
        height: 3rem;
        font-size: var(--khezana-font-size-xl);
    }

    .khezana-trust-grid {
        grid-template-columns: 1fr !important;
        gap: var(--khezana-spacing-lg);
        padding: 0 var(--khezana-spacing-md);
    }

    .khezana-trust-item {
        padding: var(--khezana-spacing-md);
    }

    .khezana-featured {
        padding: var(--khezana-spacing-xl) 0;
    }

    .khezana-view-all {
        margin-top: var(--khezana-spacing-lg);
        text-align: center;
    }
}

@media (max-width: 480px) {
    .khezana-services-grid {
        grid-template-columns: 1fr !important;
        gap: var(--khezana-spacing-sm) !important;
    }

    .khezana-service-card {
        padding: var(--khezana-spacing-md);
    }

    .khezana-section-title {
        font-size: var(--khezana-font-size-2xl) !important;
    }

    .khezana-section-subtitle {
        font-size: var(--khezana-font-size-base) !important;
    }
}

/* ============================================
   Enhanced Buttons & Touch Targets
   ============================================ */

@media (max-width: 768px) {
    .khezana-btn {
        min-height: 48px;
        padding: 0.875rem 1.5rem;
        font-size: var(--khezana-font-size-base);
        touch-action: manipulation;
    }

    .khezana-btn-large {
        min-height: 52px;
        padding: 1rem 2rem;
        font-size: var(--khezana-font-size-lg);
    }

    .khezana-nav-link {
        min-height: 44px;
        padding: 0.75rem 1rem;
    }
}

/* ============================================
   Enhanced Spacing on Mobile
   ============================================ */

@media (max-width: 768px) {
    .khezana-container {
        padding: 0 var(--khezana-spacing-md) !important;
    }

    section {
        padding: var(--khezana-spacing-xl) 0 !important;
    }

    .khezana-section-title {
        margin-bottom: var(--khezana-spacing-md) !important;
    }

    .khezana-section-subtitle {
        margin-bottom: var(--khezana-spacing-lg) !important;
    }
}

/* ============================================
   Enhanced Breadcrumbs
   ============================================ */

@media (max-width: 640px) {
    .khezana-breadcrumb {
        font-size: var(--khezana-font-size-sm);
        flex-wrap: wrap;
        gap: 0.25rem;
    }

    .khezana-breadcrumb span {
        margin: 0 0.25rem;
    }
}

/* ============================================
   Enhanced Tables & Lists
   ============================================ */

@media (max-width: 768px) {
    table {
        font-size: var(--khezana-font-size-sm);
        display: block;
        overflow-x: auto;
        -webkit-overflow-scrolling: touch;
    }

    .khezana-footer-content {
        grid-template-columns: 1fr !important;
        gap: var(--khezana-spacing-lg) !important;
        text-align: center;
    }
}

/* ============================================
   Enhanced Modals & Overlays
   ============================================ */

@media (max-width: 640px) {
    .khezana-delete-modal-content {
        width: 90vw !important;
        max-width: 400px !important;
        margin: var(--khezana-spacing-md) !important;
        padding: var(--khezana-spacing-lg) !important;
    }
}

/* ============================================
   Enhanced Image Galleries
   ============================================ */

@media (max-width: 768px) {
    .khezana-item-thumbnails {
        overflow-x: auto;
        -webkit-overflow-scrolling: touch;
        scroll-snap-type: x mandatory;
        padding-bottom: var(--khezana-spacing-xs);
    }

    .khezana-thumbnail {
        scroll-snap-align: start;
        flex-shrink: 0;
    }

    .khezana-image-navigation {
        display: flex;
    }

    .khezana-image-nav-btn {
        width: 2.5rem;
        height: 2.5rem;
    }
}

/* ============================================
   Enhanced Auth Pages
   ============================================ */

@media (max-width: 640px) {
    .khezana-login-container,
    .khezana-register-container {
        padding: var(--khezana-spacing-md);
    }

    .khezana-login-card,
    .khezana-register-card {
        padding: var(--khezana-spacing-lg);
        border-radius: var(--khezana-radius-lg);
    }

    .khezana-login-title,
    .khezana-register-title {
        font-size: var(--khezana-font-size-2xl);
    }
}

/* ============================================
   Enhanced Create/Edit Forms
   ============================================ */

@media (max-width: 768px) {
    .khezana-form-section {
        padding: var(--khezana-spacing-md);
        margin-bottom: var(--khezana-spacing-md);
    }

    .khezana-form-section-title {
        font-size: var(--khezana-font-size-lg);
        margin-bottom: var(--khezana-spacing-md);
    }

    .khezana-image-upload-grid {
        grid-template-columns: repeat(2, 1fr) !important;
        gap: var(--khezana-spacing-sm) !important;
    }
}

@media (max-width: 480px) {
    .khezana-image-upload-grid {
        grid-template-columns: 1fr !important;
    }
}

/* ============================================
   Enhanced Request Show Page
   ============================================ */

@media (max-width: 768px) {
    .khezana-request-detail-layout {
        grid-template-columns: 1fr !important;
        gap: var(--khezana-spacing-lg) !important;
    }

    .khezana-offers-section {
        margin-top: var(--khezana-spacing-lg);
    }

    .khezana-offer-card {
        padding: var(--khezana-spacing-md);
    }

    .khezana-next-steps {
        padding: var(--khezana-spacing-md);
    }

    .khezana-next-step-item {
        flex-direction: column;
        text-align: center;
        padding: var(--khezana-spacing-md);
    }
}

/* ============================================
   Enhanced Request Info Page
   ============================================ */

@media (max-width: 768px) {
    .khezana-request-hero {
        padding: var(--khezana-spacing-xl) 0;
    }

    .khezana-request-hero-title {
        font-size: var(--khezana-font-size-2xl);
    }

    .khezana-benefits-grid,
    .khezana-examples-grid,
    .khezana-response-types-grid {
        grid-template-columns: 1fr !important;
        gap: var(--khezana-spacing-md);
    }
}

@media (max-width: 480px) {
    .khezana-request-hero-content {
        text-align: center;
        padding: var(--khezana-spacing-md);
    }

    .khezana-benefit-card,
    .khezana-example-card,
    .khezana-response-type-card {
        padding: var(--khezana-spacing-md);
    }
}

/* ============================================
   Performance Optimizations
   ============================================ */

@media (max-width: 768px) {
    /* Reduce animations on mobile for better performance */
    * {
        animation-duration: 0.2s !important;
        transition-duration: 0.2s !important;
    }

    /* Optimize images */
    img {
        max-width: 100%;
        height: auto;
    }
}

/* ============================================
   Accessibility Improvements
   ============================================ */

@media (max-width: 768px) {
    /* Larger touch targets */
    a, button, input, select, textarea {
        min-height: 44px;
        min-width: 44px;
    }

    /* Better focus states */
    *:focus-visible {
        outline: 3px solid var(--khezana-primary);
        outline-offset: 2px;
    }
}

/* ============================================
   Enhanced Home Page Hero
   ============================================ */

@media (max-width: 640px) {
    .khezana-hero {
        padding: var(--khezana-spacing-xl) 0 !important;
        text-align: center;
    }

    .khezana-hero-content {
        padding: 0 var(--khezana-spacing-md);
    }

    .khezana-hero-title {
        font-size: var(--khezana-font-size-2xl) !important;
        margin-bottom: var(--khezana-spacing-md) !important;
    }

    .khezana-hero-subtitle {
        font-size: var(--khezana-font-size-base) !important;
        margin-bottom: var(--khezana-spacing-lg) !important;
    }

    .khezana-hero-actions {
        width: 100%;
        max-width: 100%;
    }

    .khezana-hero-microcopy {
        margin-top: var(--khezana-spacing-md);
    }
}

/* ============================================
   Enhanced Page Headers
   ============================================ */

@media (max-width: 640px) {
    .khezana-page-header {
        padding: var(--khezana-spacing-md) 0;
        margin-bottom: var(--khezana-spacing-lg);
        text-align: center;
    }

    .khezana-page-title {
        font-size: var(--khezana-font-size-2xl) !important;
        margin-bottom: var(--khezana-spacing-xs) !important;
    }

    .khezana-page-subtitle {
        font-size: var(--khezana-font-size-sm) !important;
    }
}

/* ============================================
   Enhanced Image Galleries
   ============================================ */

@media (max-width: 640px) {
    .khezana-item-main-image {
        aspect-ratio: 16 / 10 !important;
        border-radius: var(--khezana-radius) !important;
    }

    .khezana-item-thumbnails {
        margin-top: var(--khezana-spacing-sm);
        padding: var(--khezana-spacing-xs) 0;
    }

    .khezana-thumbnail {
        min-width: 70px;
        height: 70px;
    }

    .khezana-image-zoom-trigger {
        width: 2.5rem;
        height: 2.5rem;
        font-size: 0.875rem;
    }

    .khezana-image-counter {
        font-size: var(--khezana-font-size-sm);
        padding: 0.5rem 0.75rem;
    }
}

/* ============================================
   Enhanced Forms & Inputs
   ============================================ */

@media (max-width: 640px) {
    .khezana-form-container {
        padding: var(--khezana-spacing-md);
        background: var(--khezana-white);
        border-radius: var(--khezana-radius-lg);
        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.06);
    }

    .khezana-form-section {
        margin-bottom: var(--khezana-spacing-lg);
        padding: var(--khezana-spacing-md);
        background: rgba(245, 158, 11, 0.02);
        border-radius: var(--khezana-radius);
        border: 1px solid rgba(245, 158, 11, 0.08);
    }

    .khezana-form-hint {
        font-size: var(--khezana-font-size-sm);
        margin-top: var(--khezana-spacing-xs);
    }

    .khezana-form-error {
        font-size: var(--khezana-font-size-sm);
        margin-top: var(--khezana-spacing-xs);
    }
}

/* ============================================
   Enhanced Cards & Grids
   ============================================ */

@media (max-width: 480px) {
    .khezana-item-card,
    .khezana-request-card {
        border-radius: var(--khezana-radius);
        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);
    }

    .khezana-item-content,
    .khezana-request-content {
        padding: var(--khezana-spacing-sm);
    }

    .khezana-item-title,
    .khezana-request-title {
        font-size: var(--khezana-font-size-base);
        line-height: 1.4;
    }
}

/* ============================================
   Enhanced Buttons on Mobile
   ============================================ */

@media (max-width: 480px) {
    .khezana-btn {
        width: 100%;
        justify-content: center;
    }

    .khezana-hero-actions .khezana-btn {
        width: 100%;
    }

    .khezana-form-actions {
        flex-direction: column;
    }

    .khezana-form-actions .khezana-btn {
        width: 100%;
    }
}

/* ============================================
   Enhanced Breadcrumbs
   ============================================ */

@media (max-width: 480px) {
    .khezana-breadcrumb {
        font-size: var(--khezana-font-size-xs);
        padding: var(--khezana-spacing-sm) 0;
        overflow-x: auto;
        -webkit-overflow-scrolling: touch;
        white-space: nowrap;
    }

    .khezana-breadcrumb a,
    .khezana-breadcrumb span {
        display: inline-block;
        margin: 0 0.25rem;
    }
}

/* ============================================
   Enhanced Empty States
   ============================================ */

@media (max-width: 640px) {
    .khezana-empty-state {
        padding: var(--khezana-spacing-xl) var(--khezana-spacing-md);
        margin: var(--khezana-spacing-lg) 0;
    }

    .khezana-empty-icon {
        font-size: 3rem;
        margin-bottom: var(--khezana-spacing-md);
    }

    .khezana-empty-title {
        font-size: var(--khezana-font-size-xl);
        margin-bottom: var(--khezana-spacing-sm);
    }

    .khezana-empty-text {
        font-size: var(--khezana-font-size-sm);
        margin-bottom: var(--khezana-spacing-lg);
    }

    .khezana-empty-actions {
        flex-direction: column;
        width: 100%;
    }

    .khezana-empty-actions .khezana-btn {
        width: 100%;
    }
}

/* ============================================
   Enhanced CTA Sections
   ============================================ */

@media (max-width: 640px) {
    .khezana-cta-final,
    .khezana-request-cta {
        padding: var(--khezana-spacing-xl) var(--khezana-spacing-md);
        text-align: center;
    }

    .khezana-cta-content,
    .khezana-request-cta-content {
        padding: var(--khezana-spacing-lg);
    }

    .khezana-cta-text,
    .khezana-request-cta-title {
        font-size: var(--khezana-font-size-xl);
        margin-bottom: var(--khezana-spacing-md);
    }

    .khezana-cta-actions,
    .khezana-request-cta-actions {
        flex-direction: column;
        gap: var(--khezana-spacing-sm);
        width: 100%;
    }

    .khezana-cta-actions .khezana-btn,
    .khezana-request-cta-actions .khezana-btn {
        width: 100%;
    }
}

/* ============================================
   Enhanced Pagination
   ============================================ */

@media (max-width: 640px) {
    .khezana-pagination {
        margin-top: var(--khezana-spacing-lg);
        padding: 0 var(--khezana-spacing-md);
    }

    .khezana-pagination .page-link,
    .khezana-pagination .page-item span {
        min-width: 40px;
        min-height: 40px;
        padding: 0.5rem 0.75rem;
        font-size: var(--khezana-font-size-sm);
    }

    .khezana-pagination nav {
        flex-wrap: wrap;
        justify-content: center;
    }
}

/* ============================================
   Enhanced View All Buttons
   ============================================ */

@media (max-width: 640px) {
    .khezana-view-all {
        margin-top: var(--khezana-spacing-lg);
        text-align: center;
        padding: 0 var(--khezana-spacing-md);
    }

    .khezana-view-all .khezana-btn {
        width: 100%;
        max-width: 400px;
        margin: 0 auto;
    }
}

/* ============================================
   Enhanced Footer
   ============================================ */

@media (max-width: 640px) {
    .khezana-footer {
        padding: var(--khezana-spacing-xl) 0 var(--khezana-spacing-lg);
        text-align: center;
    }

    .khezana-footer-content {
        grid-template-columns: 1fr !important;
        gap: var(--khezana-spacing-lg) !important;
    }

    .khezana-footer-section {
        text-align: center;
    }

    .khezana-footer-links {
        justify-content: center;
    }
}

/* ============================================
   Print Styles
   ============================================ */

@media print {
    .khezana-header,
    .khezana-footer,
    .khezana-nav-actions,
    .khezana-btn,
    .khezana-filters-sidebar,
    .khezana-mobile-menu-toggle {
        display: none !important;
    }

    .khezana-container {
        max-width: 100%;
        padding: 0;
    }

    .khezana-item-detail-layout {
        grid-template-columns: 1fr !important;
    }
}
