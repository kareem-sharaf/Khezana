# تحسينات UX/UI للفلاتر — Khezana

## الهدف
جعل الفلاتر **أخف بصرياً**، **أسهل استخداماً**، وأقرب لتجربة مواقع مثل Amazon, Airbnb, Zara مع الحفاظ على البنية الحالية (مكان السايدبار، إرسال الفلاتر، عدم إضافة مكتبات).

---

## 1. السايدبار على Desktop

### قبل
- عمود بعرض 280px بخلفية رمادية كاملة (`#fafafa`)، ارتفاع `calc(100vh - 48px)`.
- يبدو كلوحة إعدادات ثقيلة.
- كل الفلاتر مفتوحة افتراضياً.

### بعد
- **Panel أنيق**: خلفية بيضاء مع فاصل خفيف (`border-inline-end: 1px solid #eee`) بدلاً من خلفية رمادية كاملة.
- **بدون ارتفاع كامل بصرياً**: المحتوى مقسّم إلى أقسام (accordions) طبيعية؛ السايدبار لا يمتلئ بالكامل إن لم يكن المحتوى كافياً، مع إمكانية التمرير عند الحاجة.
- **Accordions**: كل فلتر داخل قسم قابل للطي. **افتراضيًا**: نفتح فقط **نوع العملية** و**الفئة** (الأكثر استخداماً). الحالة والسعر مغلقان.
- **عناوين**: خط صغير (`13px`) ووزن متوسط (`500`)، بدون uppercase ثقيل.

---

## 2. Mobile — Bottom Sheet

### قبل
- ارتفاع `90vh`، بدون drag handle، عنوان "فلاتر" فقط.

### بعد
- **الارتفاع**: `75vh` (ضمن 70–80vh).
- **Drag handle**: شريط رمادي صغير في أعلى اللوحة للإشارة إلى إمكانية السحب.
- **Header**: "فلترة النتائج" مع زر إغلاق.
- **Footer ثابت**: زر "تطبيق" وزر "إعادة تعيين".

---

## 3. عناصر الفلاتر

| الفلتر | الشكل | ملاحظات |
|--------|--------|---------|
| **نوع العملية** | Segmented buttons | بيع \| إيجار \| تبرع (+ الكل). أزرار متلاصقة بخلفية موحدة، المحدد بلون أساسي. |
| **الحالة** | Pills | جميع \| جديد \| مستعمل. حبوب منفصلة، حدود خفيفة. |
| **الفئة** | Accordion / قائمة قابلة للطي | قائمة بالفواصل، دون حدود ثقيلة. |
| **السعر** | Slider بسيط | track رفيع، thumbs صغيرة، بدون زخرفة. |

**لا حدود ثقيلة** في أي عنصر.

---

## 4. التفاعل

- **لا تطبيق فوري**: الفلاتر تُطبَّق فقط عند الضغط على **"تطبيق"** (النموذج GET كالمعتاد).
- **عَدّ الفلاتر النشطة**: يُعرض عدد الفلاتر المفعّلة (مثل badge على زر الفلاتر في الموبايل).
- **Chips أعلى النتائج**: أشرطة صغيرة (chips) فوق شبكة النتائج تعرض الفلاتر المفعّلة، كل chip يقبل إزالة ذلك الفلتر فقط (رابط يحذف المعامل من الـ query).

---

## 5. الأداء والتنفيذ

- **Blade + CSS + Alpine فقط**، بدون مكتبات جديدة.
- تقليل الـ DOM nesting؛ تجنب `<div>` غير ضرورية.
- عدم استخدام تأثيرات ثقيلة (ظلال كبيرة، حركات معقدة).

---

## ملخص الفوائد

1. **أخف بصرياً**: أبيض وفواصل خفيفة بدلاً من عمود رمادي ثقيل.
2. **أسهل استخداماً**: accordions، تطبيق عبر زر واحد، chips للمراجعة والإزالة السريعة.
3. **أقرب للعالمية**: panel بسيط، segmented/pills، bottom sheet مع handle وfooter واضح.
4. **يحترم التخطيط الحالي**: السايدبار في مكانه، نفس الـ GET و الـ routes، بدون تغيير منطق الخلفية.

---

## لماذا هذا أفضل؟

- **تقليل الحمل البصري**: لا خلفية رمادية كاملة ولا حدود ثقيلة؛ الفلاتر تشبه Panel وليس لوحة إعدادات.
- **اكتشاف أسهل**: نوع العملية كـ segmented، والحالة كـ pills، والفئة كقائمة قابلة للطي — كل واحد يعرف غرضه من النظرة الأولى.
- **تحكم واضر**: تطبيق الفلاتر عبر زر "تطبيق" فقط؛ المستخدم يغيّر ثم يطبّق، بدلاً من تطبيق فوري قد يربكه.
- **شفافية**: عدّاد الفلاتر النشطة + chips أعلى النتائج — المستخدم يرى ماذا مُ applied ويستطيع إزالة فلتر واحد دون فتح السايدبار.
- **موبايل أنظف**: ارتفاع 75vh، drag handle، header "فلترة النتائج"، وfooter ثابت — تجربة واضحة وقريبة من التطبيقات الحديثة.
