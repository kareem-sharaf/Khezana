# ุชูุซูู ุดุงูู ูุฌุฏุงูู ูุงุนุฏุฉ ุงูุจูุงูุงุช ูุงูุนูุงูุงุช ุจูููุง

## ูุธุฑุฉ ุนุงูุฉ

ูุฐุง ุงูููู ูุญุชูู ุนูู ุชูุซูู ุดุงูู ูุฌููุน ุฌุฏุงูู ูุงุนุฏุฉ ุงูุจูุงูุงุช ูู ูุดุฑูุน ููุตุฉ ุชุฃุฌูุฑ ูุจูุน ุงูููุงุจุณ "ุฎุฒุงูุฉ"ุ ูุน ุชูุถูุญ ุงูุนูุงูุงุช ุจูู ุงูุฌุฏุงูู ูุงูุญููู ุงูุฑุฆูุณูุฉ ูุงูููุงุฑุณ.

---

## ุงูุฌุฏุงูู ุงูุฃุณุงุณูุฉ

### 1. ุฌุฏูู Users (ุงููุณุชุฎุฏููู)
**ุงููุตู:** ูุญุชูู ุนูู ุจูุงูุงุช ุฌููุน ูุณุชุฎุฏูู ุงููุธุงู

**ุงูุญููู:**
- `id` (PRIMARY KEY) - ูุนุฑู ูุฑูุฏ ูููุณุชุฎุฏู
- `name` (string) - ุงุณู ุงููุณุชุฎุฏู
- `email` (string, UNIQUE) - ุจุฑูุฏ ุฅููุชุฑููู ูุฑูุฏ
- `email_verified_at` (timestamp, nullable) - ููุช ุงูุชุญูู ูู ุงูุจุฑูุฏ ุงูุฅููุชุฑููู
- `password` (string) - ูููุฉ ุงููุฑูุฑ ุงููุดูุฑุฉ
- `remember_token` (string, nullable) - ุฑูุฒ ุชุฐูุฑ ุงููุณุชุฎุฏู
- `created_at`, `updated_at` (timestamps) - ุฃููุงุช ุงูุฅูุดุงุก ูุงูุชุญุฏูุซ

**ุงูููุงุฑุณ:**
- `email` - ูุฑูุฏ

**ุงูุนูุงูุงุช ุงูุฎุงุฑุฌูุฉ:**
- โ ูุฑุชุจุท ูุน `user_profiles` (ูุงุญุฏ ูููุงุญุฏ)
- โ ูุฑุชุจุท ูุน `items` (ูุงุญุฏ ูููุซูุฑ)
- โ ูุฑุชุจุท ูุน `requests` (ูุงุญุฏ ูููุซูุฑ)
- โ ูุฑุชุจุท ูุน `offers` (ูุงุญุฏ ูููุซูุฑ - ูููุฏู ุนุฑุถ)
- โ ูุฑุชุจุท ูุน `approvals` (ูุงุญุฏ ูููุซูุฑ - ููุฑุณู)
- โ ูุฑุชุจุท ูุน `approvals` (ูุงุญุฏ ูููุซูุฑ - ููุฑุงุฌุน)
- โ ูุฑุชุจุท ูุน `admin_actions_logs` (ูุงุญุฏ ูููุซูุฑ)

---

### 2. ุฌุฏูู User Profiles (ูููุงุช ุงููุณุชุฎุฏููู)
**ุงููุตู:** ูุญุชูู ุนูู ุงููุนูููุงุช ุงูุฅุถุงููุฉ ูุงูููู ุงูุดุฎุตู ููู ูุณุชุฎุฏู

**ุงูุญููู:**
- `id` (PRIMARY KEY) - ูุนุฑู ูุฑูุฏ
- `user_id` (FOREIGN KEY, UNIQUE) โ Users - ูุนุฑู ุงููุณุชุฎุฏู
- `city` (string, nullable) - ุงููุฏููุฉ
- `address` (text, nullable) - ุงูุนููุงู ุงููุงูู
- `avatar` (string, nullable) - ูุณุงุฑ ุตูุฑุฉ ุงูููู ุงูุดุฎุตู
- `created_at`, `updated_at` (timestamps) - ุฃููุงุช ุงูุฅูุดุงุก ูุงูุชุญุฏูุซ

**ุงูุนูุงูุงุช:**
- โ ูุฑุชุจุท ูุน Users (ูุงุญุฏ ูููุงุญุฏ)

**ููุงุญุธุงุช:**
- ุงูุนูุงูุฉ ูุน Users ูุญุฐููุฉ ูู ุญุงูุฉ ุญุฐู ุงููุณุชุฎุฏู (onDelete: cascade)

---

## ุฌุฏุงูู ุงููุฆุงุช ูุงูุฎุตุงุฆุต

### 3. ุฌุฏูู Categories (ุงููุฆุงุช)
**ุงููุตู:** ูุญุชูู ุนูู ูุฆุงุช ุงูููุชุฌุงุช ุจูููู ูุฑูู (ูููู ุฃู ุชููู ูุฆุฉ ุฃุจ ููุฆุงุช ูุฑุนูุฉ)

**ุงูุญููู:**
- `id` (PRIMARY KEY) - ูุนุฑู ูุฑูุฏ ูููุฆุฉ
- `parent_id` (FOREIGN KEY, nullable) โ Categories - ูุนุฑู ุงููุฆุฉ ุงูุฃุจ
- `name` (string) - ุงุณู ุงููุฆุฉ
- `slug` (string, UNIQUE) - ุฑุงุจุท ุตุฏูู ููู SEO
- `description` (text, nullable) - ูุตู ุงููุฆุฉ
- `is_active` (boolean, default: true) - ูู ุงููุฆุฉ ููุนูุฉ
- `created_at`, `updated_at` (timestamps)

**ุงูููุงุฑุณ:**
- `parent_id` - ููุจุญุซ ุงูุณุฑูุน ุนู ุงููุฆุงุช ุงููุฑุนูุฉ
- `slug` - ูุฑูุฏ
- `is_active` - ููุชุตููุฉ ุญุณุจ ุงูุญุงูุฉ

**ุงูุนูุงูุงุช:**
- โ ูุฑุชุจุท ูุน ููุณู (recursive) - ูุงุญุฏ ูููุซูุฑ
- โ ูุฑุชุจุท ูุน Items (ูุงุญุฏ ูููุซูุฑ)
- โ ูุฑุชุจุท ูุน Requests (ูุงุญุฏ ูููุซูุฑ)
- โ ูุฑุชุจุท ูุน category_attribute (ูุงุญุฏ ูููุซูุฑ)

**ููุงุญุธุงุช:**
- ุงูุชุณูุณู ุงููุฑูู ูุณูุญ ุจูุฆุงุช ุฑุฆูุณูุฉ ููุฆุงุช ูุฑุนูุฉ
- ุญุฐู ุงููุฆุฉ ุงูุฃุจ ูุญุฐู ุฌููุน ุงููุฆุงุช ุงููุฑุนูุฉ

---

### 4. ุฌุฏูู Attributes (ุงูุฎุตุงุฆุต)
**ุงููุตู:** ูุญุชูู ุนูู ุชุนุฑููุงุช ุฎุตุงุฆุต ุงูููุชุฌุงุช (ูุซู ุงููููุ ุงูุญุฌูุ ุงูุฌูุฏุฉ)

**ุงูุญููู:**
- `id` (PRIMARY KEY) - ูุนุฑู ูุฑูุฏ
- `name` (string) - ุงุณู ุงูุฎุงุตูุฉ
- `slug` (string, UNIQUE) - ุฑุงุจุท ุตุฏูู ููู SEO
- `type` (string) - ููุน ุงูุฎุงุตูุฉ (text, select, number)
- `is_required` (boolean, default: false) - ูู ุฅุฏุฎุงู ูุฐู ุงูุฎุงุตูุฉ ุฅุฌุจุงุฑู
- `created_at`, `updated_at` (timestamps)

**ุงูููุงุฑุณ:**
- `slug` - ูุฑูุฏ
- `type` - ููุจุญุซ ุญุณุจ ุงูููุน

**ุงูุนูุงูุงุช:**
- โ ูุฑุชุจุท ูุน attribute_values (ูุงุญุฏ ูููุซูุฑ)
- โ ูุฑุชุจุท ูุน category_attribute (ูุงุญุฏ ูููุซูุฑ)
- โ ูุฑุชุจุท ูุน item_attributes (ูุงุญุฏ ูููุซูุฑ)

---

### 5. ุฌุฏูู Attribute Values (ููู ุงูุฎุตุงุฆุต)
**ุงููุตู:** ูุญุชูู ุนูู ุงูููู ุงููุญุชููุฉ ููู ุฎุงุตูุฉ (ูุซู ุงูุฃุญูุฑ ูุงูุฃุฒุฑู ูููู)

**ุงูุญููู:**
- `id` (PRIMARY KEY) - ูุนุฑู ูุฑูุฏ
- `attribute_id` (FOREIGN KEY) โ Attributes - ูุนุฑู ุงูุฎุงุตูุฉ
- `value` (string) - ุงููููุฉ
- `created_at`, `updated_at` (timestamps)

**ุงูููุงุฑุณ:**
- `attribute_id` - ููุจุญุซ ุงูุณุฑูุน
- `(attribute_id, value)` - ูุฑูุฏ ูุนุงู

**ุงูุนูุงูุงุช:**
- โ ูุฑุชุจุท ูุน Attributes (ูุงุญุฏ ูููุซูุฑ)

**ููุงุญุธุงุช:**
- ูุง ูููู ุชูุฑุงุฑ ููุณ ุงููููุฉ ูููุณ ุงูุฎุงุตูุฉ

---

### 6. ุฌุฏูู Category Attribute (ุฑุจุท ุงููุฆุงุช ุจุงูุฎุตุงุฆุต)
**ุงููุตู:** ุฌุฏูู ุฑุจุท (Junction Table) ูุฑุจุท ุจูู ุงููุฆุงุช ูุงูุฎุตุงุฆุต ุงููุชุนููุฉ ุจูู ูุฆุฉ

**ุงูุญููู:**
- `id` (PRIMARY KEY) - ูุนุฑู ูุฑูุฏ
- `category_id` (FOREIGN KEY) โ Categories - ูุนุฑู ุงููุฆุฉ
- `attribute_id` (FOREIGN KEY) โ Attributes - ูุนุฑู ุงูุฎุงุตูุฉ
- `created_at`, `updated_at` (timestamps)

**ุงูููุงุฑุณ:**
- `category_id`, `attribute_id` - ูุฑูุฏุงู ูุนุงู (ูููุน ุงูุชูุฑุงุฑ)
- `category_id` - ููุจุญุซ ุงูุณุฑูุน
- `attribute_id` - ููุจุญุซ ุงูุณุฑูุน

**ุงูุนูุงูุงุช:**
- โ ูุฑุชุจุท ูุน Categories (ูุงุญุฏ ูููุซูุฑ)
- โ ูุฑุชุจุท ูุน Attributes (ูุงุญุฏ ูููุซูุฑ)

---

## ุฌุฏุงูู ุงูููุชุฌุงุช ูุงูุตูุฑ

### 7. ุฌุฏูู Items (ุงูููุชุฌุงุช)
**ุงููุตู:** ูุญุชูู ุนูู ุฌููุน ุงูููุชุฌุงุช ุงููุนุฑูุถุฉ ููุจูุน ุฃู ุงูุฅูุฌุงุฑ ุฃู ุงูุชุจุฑุน

**ุงูุญููู:**
- `id` (PRIMARY KEY) - ูุนุฑู ูุฑูุฏ ููููุชุฌ
- `user_id` (FOREIGN KEY) โ Users - ูุนุฑู ุงููุณุชุฎุฏู (ุตุงุญุจ ุงูููุชุฌ)
- `category_id` (FOREIGN KEY) โ Categories - ูุนุฑู ุงููุฆุฉ
- `operation_type` (enum) - ููุน ุงูุนูููุฉ: sell (ุจูุน)ุ rent (ุฅูุฌุงุฑ)ุ donate (ุชุจุฑุน)
- `title` (string) - ุนููุงู ุงูููุชุฌ
- `description` (text, nullable) - ูุตู ุชูุตููู
- `price` (decimal(10,2), nullable) - ุงูุณุนุฑ
- `deposit_amount` (decimal(10,2), nullable) - ูุจูุบ ุงูุถูุงู (ุฎุงุต ุจุงูุฅูุฌุงุฑ)
- `is_available` (boolean, default: true) - ูู ุงูููุชุฌ ูุชุงุญ
- `created_at`, `updated_at` (timestamps)

**ุงูููุงุฑุณ:**
- `user_id` - ููุจุญุซ ุนู ููุชุฌุงุช ูุณุชุฎุฏู ูุนูู
- `category_id` - ููุจุญุซ ุญุณุจ ุงููุฆุฉ
- `operation_type` - ููุชุตููุฉ ุญุณุจ ููุน ุงูุนูููุฉ
- `is_available` - ููุจุญุซ ุนู ุงูููุชุฌุงุช ุงููุชุงุญุฉ ููุท

**ุงูุนูุงูุงุช:**
- โ ูุฑุชุจุท ูุน Users (ูุงุญุฏ ูููุซูุฑ)
- โ ูุฑุชุจุท ูุน Categories (ูุงุญุฏ ูููุซูุฑ)
- โ ูุฑุชุจุท ูุน item_images (ูุงุญุฏ ูููุซูุฑ)
- โ ูุฑุชุจุท ูุน item_attributes (ูุงุญุฏ ูููุซูุฑ - polymorphic)
- โ ูุฑุชุจุท ูุน offers (ูุงุญุฏ ูููุซูุฑ)
- โ ูุฑุชุจุท ูุน approvals (ูุงุญุฏ ูููุซูุฑ - polymorphic)

**ููุงุญุธุงุช:**
- ุญุฐู ุงููุณุชุฎุฏู ูุญุฐู ุฌููุน ููุชุฌุงุชู
- ุญุฐู ุงููุฆุฉ ูููุน ุญุฐู ุงูููุชุฌุงุช ุงูุชู ุชูุชูู ุฅูููุง

---

### 8. ุฌุฏูู Item Images (ุตูุฑ ุงูููุชุฌุงุช)
**ุงููุตู:** ูุญุชูู ุนูู ุตูุฑ ูู ููุชุฌ

**ุงูุญููู:**
- `id` (PRIMARY KEY) - ูุนุฑู ูุฑูุฏ
- `item_id` (FOREIGN KEY) โ Items - ูุนุฑู ุงูููุชุฌ
- `path` (string) - ูุณุงุฑ ุงูุตูุฑุฉ
- `is_primary` (boolean, default: false) - ูู ูุฐู ุงูุตูุฑุฉ ุงูุฑุฆูุณูุฉ
- `created_at`, `updated_at` (timestamps)

**ุงูููุงุฑุณ:**
- `item_id` - ููุจุญุซ ุงูุณุฑูุน ุนู ุตูุฑ ููุชุฌ
- `is_primary` - ููุนุซูุฑ ุนูู ุงูุตูุฑุฉ ุงูุฑุฆูุณูุฉ ุจุณุฑุนุฉ

**ุงูุนูุงูุงุช:**
- โ ูุฑุชุจุท ูุน Items (ูุงุญุฏ ูููุซูุฑ)

**ููุงุญุธุงุช:**
- ุญุฐู ุงูููุชุฌ ูุญุฐู ุฌููุน ุตูุฑู ุชููุงุฆูุงู

---

### 9. ุฌุฏูู Item Attributes (ุฎุตุงุฆุต ุงูููุชุฌุงุช)
**ุงููุตู:** ูุญุชูู ุนูู ููู ุงูุฎุตุงุฆุต ููู ููุชุฌ ุฃู ุทูุจ (ุนูุงูุฉ Polymorphic)

**ุงูุญููู:**
- `id` (PRIMARY KEY) - ูุนุฑู ูุฑูุฏ
- `attributable_type` (string) - ููุน ุงููุงุฆู ุงููุฑุชุจุท (Items ุฃู Requests)
- `attributable_id` (unsignedBigInteger) - ูุนุฑู ุงููุงุฆู ุงููุฑุชุจุท
- `attribute_id` (FOREIGN KEY) โ Attributes - ูุนุฑู ุงูุฎุงุตูุฉ
- `value` (string) - ูููุฉ ุงูุฎุงุตูุฉ
- `created_at`, `updated_at` (timestamps)

**ุงูููุงุฑุณ:**
- `(attributable_type, attributable_id)` - ููุจุญุซ ุงูุณุฑูุน ุนู ุฎุตุงุฆุต ูุงุฆู ูุนูู
- `attribute_id` - ููุจุญุซ ุญุณุจ ุงูุฎุงุตูุฉ

**ุงูุนูุงูุงุช (Polymorphic):**
- โ ูุฑุชุจุท ูุน Items (ูุงุญุฏ ูููุซูุฑ)
- โ ูุฑุชุจุท ูุน Requests (ูุงุญุฏ ูููุซูุฑ)
- โ ูุฑุชุจุท ูุน Attributes (ูุงุญุฏ ูููุซูุฑ)

**ููุงุญุธุงุช:**
- ุงูุนูุงูุฉ Polymorphic ุชุณูุญ ุจุฑุจุท ุงูุฎุตุงุฆุต ูุน ุฃููุงุน ูุฎุชููุฉ ูู ุงููุงุฆูุงุช
- ุญุฐู ุงูููุชุฌ ุฃู ุงูุทูุจ ูุญุฐู ุฎุตุงุฆุตู

---

## ุฌุฏุงูู ุงูุทูุจุงุช ูุงูุนุฑูุถ

### 10. ุฌุฏูู Requests (ุงูุทูุจุงุช)
**ุงููุตู:** ูุญุชูู ุนูู ุทูุจุงุช ุงููุณุชุฎุฏููู ููุจุญุซ ุนู ููุชุฌุงุช ูุนููุฉ

**ุงูุญููู:**
- `id` (PRIMARY KEY) - ูุนุฑู ูุฑูุฏ ููุทูุจ
- `user_id` (FOREIGN KEY) โ Users - ูุนุฑู ุงููุณุชุฎุฏู (ุงูุจุงุญุซ)
- `category_id` (FOREIGN KEY) โ Categories - ูุนุฑู ุงููุฆุฉ ุงููุทููุจุฉ
- `title` (string) - ุนููุงู ุงูุทูุจ
- `description` (text, nullable) - ูุตู ุชูุตููู ููุทูุจ
- `status` (enum) - ุญุงูุฉ ุงูุทูุจ: open (ููุชูุญ)ุ fulfilled (ููุชูู)ุ closed (ูุบูู)
- `created_at`, `updated_at` (timestamps)

**ุงูููุงุฑุณ:**
- `user_id` - ููุจุญุซ ุนู ุทูุจุงุช ูุณุชุฎุฏู ูุนูู
- `category_id` - ููุจุญุซ ุญุณุจ ุงููุฆุฉ
- `status` - ููุชุตููุฉ ุญุณุจ ุงูุญุงูุฉ
- `created_at` - ููุชุฑุชูุจ ุญุณุจ ุงูุชุงุฑูุฎ

**ุงูุนูุงูุงุช:**
- โ ูุฑุชุจุท ูุน Users (ูุงุญุฏ ูููุซูุฑ)
- โ ูุฑุชุจุท ูุน Categories (ูุงุญุฏ ูููุซูุฑ)
- โ ูุฑุชุจุท ูุน offers (ูุงุญุฏ ูููุซูุฑ)
- โ ูุฑุชุจุท ูุน item_attributes (ูุงุญุฏ ูููุซูุฑ - polymorphic)
- โ ูุฑุชุจุท ูุน approvals (ูุงุญุฏ ูููุซูุฑ - polymorphic)

**ููุงุญุธุงุช:**
- ุญุฐู ุงููุณุชุฎุฏู ูุญุฐู ุฌููุน ุทูุจุงุชู
- ุญุฐู ุงููุฆุฉ ูููุน ุญุฐู ุงูุทูุจุงุช ุงููุชุนููุฉ ุจูุง

---

### 11. ุฌุฏูู Offers (ุงูุนุฑูุถ)
**ุงููุตู:** ูุญุชูู ุนูู ุงูุนุฑูุถ ุงูุชู ููุฏููุง ุงููุณุชุฎุฏููู ุนูู ุงูุทูุจุงุช

**ุงูุญููู:**
- `id` (PRIMARY KEY) - ูุนุฑู ูุฑูุฏ ููุนุฑุถ
- `request_id` (FOREIGN KEY) โ Requests - ูุนุฑู ุงูุทูุจ
- `user_id` (FOREIGN KEY) โ Users - ูุนุฑู ุงููุณุชุฎุฏู (ููุฏู ุงูุนุฑุถ)
- `item_id` (FOREIGN KEY, nullable) โ Items - ูุนุฑู ุงูููุชุฌ ุงููุนุฑูุถ (ุฅู ูุฌุฏ)
- `operation_type` (enum) - ููุน ุงูุนูููุฉ: sellุ rentุ donate
- `price` (decimal(10,2), nullable) - ุงูุณุนุฑ ุงูููุชุฑุญ
- `deposit_amount` (decimal(10,2), nullable) - ูุจูุบ ุงูุถูุงู ุงูููุชุฑุญ
- `status` (enum) - ุญุงูุฉ ุงูุนุฑุถ: pending (ููุฏ ุงูุงูุชุธุงุฑ)ุ accepted (ููุจูู)ุ rejected (ูุฑููุถ)ุ cancelled (ููุบู)
- `message` (text, nullable) - ุฑุณุงูุฉ ุชูุถูุญูุฉ ูู ููุฏู ุงูุนุฑุถ
- `created_at`, `updated_at` (timestamps)

**ุงูููุงุฑุณ:**
- `request_id` - ููุจุญุซ ุงูุณุฑูุน ุนู ุนุฑูุถ ุทูุจ ูุนูู
- `user_id` - ููุจุญุซ ุงูุณุฑูุน ุนู ุนุฑูุถ ูุณุชุฎุฏู
- `status` - ููุชุตููุฉ ุญุณุจ ุงูุญุงูุฉ
- `operation_type` - ููุชุตููุฉ ุญุณุจ ููุน ุงูุนูููุฉ
- `created_at` - ููุชุฑุชูุจ ุญุณุจ ุงูุชุงุฑูุฎ
- `(request_id, user_id)` - ูุฑูุฏ ูุนุงู (ูููุน ุนุฑูุถ ูุชุนุฏุฏุฉ ูู ููุณ ุงููุณุชุฎุฏู ุนูู ููุณ ุงูุทูุจ)

**ุงูุนูุงูุงุช:**
- โ ูุฑุชุจุท ูุน Requests (ูุงุญุฏ ูููุซูุฑ)
- โ ูุฑุชุจุท ูุน Users (ูุงุญุฏ ูููุซูุฑ)
- โ ูุฑุชุจุท ูุน Items (ูุงุญุฏ ูููุซูุฑุ nullable)

**ููุงุญุธุงุช:**
- ุญุฐู ุงูุทูุจ ูุญุฐู ุฌููุน ุงูุนุฑูุถ ุนููู
- ุญุฐู ุงููุณุชุฎุฏู ูุญุฐู ุฌููุน ุนุฑูุถู
- ุญุฐู ุงูููุชุฌ ูุฌุนู item_id null (ุจุฏูุงู ูู ุญุฐู ุงูุนุฑุถ)

---

## ุฌุฏุงูู ุงููุนุชูุฏูุฉ ูุงูุณุฌูุงุช

### 12. ุฌุฏูู Approvals (ุงููุนุชูุฏูุงุช)
**ุงููุตู:** ูุญุชูู ุนูู ุทูุจุงุช ุงูููุงููุฉ ุนูู ุงูููุชุฌุงุช ูุงูุทูุจุงุช (ุนูุงูุฉ Polymorphic)

**ุงูุญููู:**
- `id` (PRIMARY KEY) - ูุนุฑู ูุฑูุฏ
- `approvable_type` (string) - ููุน ุงููุงุฆู ุงููุทููุจ ุงูููุงููุฉ ุนููู (Items ุฃู Requests)
- `approvable_id` (unsignedBigInteger) - ูุนุฑู ุงููุงุฆู
- `status` (string, default: pending) - ุญุงูุฉ ุงูููุงููุฉ: pending (ููุฏ ุงูุงูุชุธุงุฑ)ุ approved (ููุงูู)ุ rejected (ูุฑููุถ)ุ archived (ูุคุฑุดู)
- `submitted_by` (FOREIGN KEY) โ Users - ูุนุฑู ุงููุณุชุฎุฏู ุงูุฐู ูุฏู ุงููุญุชูู
- `reviewed_by` (FOREIGN KEY, nullable) โ Users - ูุนุฑู ุงููุณุคูู ุงูุฐู ุฑุงุฌุน
- `reviewed_at` (timestamp, nullable) - ููุช ุงููุฑุงุฌุนุฉ
- `rejection_reason` (text, nullable) - ุณุจุจ ุงูุฑูุถ (ุฅู ูุฌุฏ)
- `created_at`, `updated_at` (timestamps)

**ุงูููุงุฑุณ:**
- `(approvable_type, approvable_id)` - ููุจุญุซ ุงูุณุฑูุน ุนู ูุนุชูุฏูุงุช ูุงุฆู ูุนูู
- `status` - ููุชุตููุฉ ุญุณุจ ุงูุญุงูุฉ

**ุงูุนูุงูุงุช (Polymorphic):**
- โ ูุฑุชุจุท ูุน Items (ูุงุญุฏ ูููุซูุฑ)
- โ ูุฑุชุจุท ูุน Requests (ูุงุญุฏ ูููุซูุฑ)
- โ ูุฑุชุจุท ูุน Users (ูุงุญุฏ ูููุซูุฑ - ููุฑุณู)
- โ ูุฑุชุจุท ูุน Users (ูุงุญุฏ ูููุซูุฑ - ููุฑุงุฌุน)

**ููุงุญุธุงุช:**
- ุงูุนูุงูุฉ Polymorphic ุชุณูุญ ุจุฑูุงุจุฉ ูุญุชููุงุช ูุชููุนุฉ
- ุญุฐู ุงููุณุชุฎุฏู ูุญุฐู ูุนุชูุฏูุงุชู

---

### 13. ุฌุฏูู Admin Actions Logs (ุณุฌูุงุช ุงูุฅุฌุฑุงุกุงุช ุงูุฅุฏุงุฑูุฉ)
**ุงููุตู:** ูุญุชูู ุนูู ุณุฌู ุจุฌููุน ุงูุฅุฌุฑุงุกุงุช ุงูุชู ูููู ุจูุง ุงููุณุคูููู

**ุงูุญููู:**
- `id` (PRIMARY KEY) - ูุนุฑู ูุฑูุฏ ููุนูููุฉ
- `admin_id` (FOREIGN KEY) โ Users - ูุนุฑู ุงููุณุคูู
- `action_type` (string) - ููุน ุงูุฅุฌุฑุงุก (createdุ updatedุ deletedุ approvedุ ุฅูุฎ)
- `target_type` (string) - ููุน ุงููุงุฆู ุงููุชุฃุซุฑ (Userุ Itemุ Requestุ ุฅูุฎ)
- `target_id` (unsignedBigInteger, nullable) - ูุนุฑู ุงููุงุฆู ุงููุชุฃุซุฑ
- `notes` (text, nullable) - ููุงุญุธุงุช ุฅุถุงููุฉ
- `old_values` (json, nullable) - ุงูููู ุงููุฏููุฉ (ููุชุญุฏูุซุงุช)
- `new_values` (json, nullable) - ุงูููู ุงูุฌุฏูุฏุฉ (ููุชุญุฏูุซุงุช)
- `created_at`, `updated_at` (timestamps)

**ุงูููุงุฑุณ:**
- `(target_type, target_id)` - ููุจุญุซ ุงูุณุฑูุน ุนู ุงูุณุฌูุงุช ุงููุชุนููุฉ ุจูุงุฆู ูุนูู
- `(admin_id, created_at)` - ููุจุญุซ ุนู ุฅุฌุฑุงุกุงุช ูุณุคูู ูุนูู ูู ูุชุฑุฉ ุฒูููุฉ

**ุงูุนูุงูุงุช:**
- โ ูุฑุชุจุท ูุน Users (ูุงุญุฏ ูููุซูุฑ)

**ููุงุญุธุงุช:**
- ุญุฐู ุงููุณุชุฎุฏู ูุญุฐู ุฌููุน ุงูุณุฌูุงุช ุงูุฎุงุตุฉ ุจู ููุณุคูู
- ุงูุณุฌู ูุญุชูู ุนูู ูุณุฎุฉ ูู ุงูุจูุงูุงุช ุงููุฏููุฉ ูุงูุฌุฏูุฏุฉ ููุชุฏููู

---

## ุฌุฏุงูู ูุธุงู ุงูุทูุจุงุช ูุงูุงุณุชูุงู ูู ุงููุชุฌุฑ

### 14. ุฌุฏูู Orders (ุงูุทูุจุงุช)
**ุงููุตู:** ูุญุชูู ุนูู ุฌููุน ุทูุจุงุช ุงูุดุฑุงุก ูุงูุชุฃุฌูุฑ ูุน ุฅููุงููุฉ ุงูุงุณุชูุงู ูู ุงููุชุฌุฑ ุฃู ุงูุชูุตูู

**ุงูุญููู:**
- `id` (PRIMARY KEY) - ูุนุฑู ูุฑูุฏ ููุทูุจ
- `customer_id` (FOREIGN KEY) โ Users - ูุนุฑู ุงูุนููู
- `order_number` (string, UNIQUE) - ุฑูู ุงูุทูุจ ุงููุฑูุฏ (ุจุตูุบุฉ DATE-XXXX)
- `channel` (enum) - ููุงุฉ ุงูุทูุจ: DELIVERY (ุชูุตูู)ุ IN_STORE_PICKUP (ุงุณุชูุงู ูู ุงููุชุฌุฑ)
- `status` (enum) - ุญุงูุฉ ุงูุทูุจ:
  - CREATED (ุชู ุงูุฅูุดุงุก)
  - PENDING_PAYMENT (ูู ุงูุชุธุงุฑ ุงูุฏูุน)
  - CONFIRMED (ูุคูุฏ)
  - PROCESSING (ููุฏ ุงููุนุงูุฌุฉ)
  - READY_FOR_PICKUP (ุฌุงูุฒ ููุงุณุชูุงู)
  - CUSTOMER_ARRIVED (ุงูุนููู ูุตู)
  - COMPLETED (ููุชูู)
  - CANCELLED (ููุบู)
  - EXPIRED (ููุชูู ุงูุตูุงุญูุฉ)
- `pickup_store_id` (FOREIGN KEY, nullable) โ inspection_centers - ูุนุฑู ุงููุชุฌุฑ ููุงุณุชูุงู
- `delivery_address` (text, nullable) - ุนููุงู ุงูุชูุตูู
- `delivery_city` (string, nullable) - ูุฏููุฉ ุงูุชูุตูู
- `subtotal` (decimal(10,2)) - ุงููุฌููุน ุงููุฑุนู
- `tax_amount` (decimal(10,2), default: 0) - ุถุฑูุจุฉ ุงููููุฉ ุงููุถุงูุฉ
- `delivery_fee` (decimal(10,2), default: 0) - ุฑุณู ุงูุชูุตูู
- `total_amount` (decimal(10,2)) - ุงูุฅุฌูุงูู ุงูููุงุฆู
- `payment_method` (enum) - ุทุฑููุฉ ุงูุฏูุน: CASH (ููุฏุงู)ุ ONLINE (ุฃูููุงูู)ุ CARD (ุจุจุทุงูุฉ)
- `payment_status` (enum, default: PENDING) - ุญุงูุฉ ุงูุฏูุน: PENDINGุ COMPLETEDุ FAILED
- `notes` (text, nullable) - ููุงุญุธุงุช ุงูุนููู
- `pickup_expiry` (timestamp, nullable) - ุงูุชูุงุก ุตูุงุญูุฉ ุงูุงุณุชูุงู (ุจุนุฏ 24 ุณุงุนุฉ ูู ุงูุฅูุดุงุก)
- `picked_up_at` (timestamp, nullable) - ููุช ุงูุงุณุชูุงู ุงููุนูู
- `created_at`, `updated_at` (timestamps)

**ุงูููุงุฑุณ:**
- `customer_id` - ููุจุญุซ ุนู ุทูุจุงุช ุนููู ูุนูู
- `order_number` - ูุฑูุฏ
- `status` - ููุชุตููุฉ ุญุณุจ ุงูุญุงูุฉ
- `channel` - ููุชุตููุฉ ุญุณุจ ููุงุฉ ุงูุทูุจ
- `pickup_store_id` - ููุจุญุซ ุนู ุทูุจุงุช ูุชุฌุฑ ูุนูู
- `created_at` - ููุชุฑุชูุจ ุญุณุจ ุงูุชุงุฑูุฎ
- `pickup_expiry` - ููุจุญุซ ุนู ุงูุทูุจุงุช ุงูููุชููุฉ ุงูุตูุงุญูุฉ

**ุงูุนูุงูุงุช:**
- โ ูุฑุชุจุท ูุน Users (ูุงุญุฏ ูููุซูุฑ - ุงูุนููู)
- โ ูุฑุชุจุท ูุน InspectionCenters (ูุงุญุฏ ูููุซูุฑ - ุงููุชุฌุฑ)
- โ ูุฑุชุจุท ูุน order_items (ูุงุญุฏ ูููุซูุฑ)
- โ ูุฑุชุจุท ูุน order_qr_codes (ูุงุญุฏ ูููุงุญุฏ)
- โ ูุฑุชุจุท ูุน order_trackings (ูุงุญุฏ ูููุซูุฑ)
- โ ูุฑุชุจุท ูุน store_transactions (ูุงุญุฏ ูููุซูุฑ)

**ููุงุญุธุงุช:**
- ุฑูู ุงูุทูุจ ููููุฏ ุชููุงุฆูุงู ุจุตูุบุฉ: DATE-XXXX (ูุซุงู: 20260126-0001)
- pickup_expiry ููุญุณุจ ุชููุงุฆูุงู ูู: created_at + 24 ุณุงุนุฉ ููุทูุจุงุช ูู ุงูููุน IN_STORE_PICKUP
- ุญุฐู ุงูุนููู ูุฏ ูุคุฏู ุฅูู ุญุฐู ุทูุจุงุชู ุฃู ุฅุจูุงุคูุง ุจูููุฉ customer_id = null

---

### 15. ุฌุฏูู Order Items (ุนูุงุตุฑ ุงูุทูุจ)
**ุงููุตู:** ูุญุชูู ุนูู ุนูุงุตุฑ ูู ุทูุจ ูุน ุชูุงุตูู ุงูุชุณุนูุฑ ูุงูุนูููุฉ

**ุงูุญููู:**
- `id` (PRIMARY KEY) - ูุนุฑู ูุฑูุฏ
- `order_id` (FOREIGN KEY) โ Orders - ูุนุฑู ุงูุทูุจ
- `item_id` (FOREIGN KEY) โ items - ูุนุฑู ุงูููุชุฌ
- `operation_type` (enum) - ููุน ุงูุนูููุฉ: RENT (ุฅูุฌุงุฑ)ุ SALE (ุจูุน)ุ DONATE (ุชุจุฑุน)
- `quantity` (unsignedInteger) - ุงููููุฉ
- `unit_price` (decimal(10,2)) - ุณุนุฑ ุงููุญุฏุฉ
- `subtotal` (decimal(10,2)) - ุงููุฌููุน (ุงููููุฉ ร ุงูุณุนุฑ)
- `item_status` (enum) - ุญุงูุฉ ุงูููุชุฌ:
  - RESERVED (ูุญุฌูุฒ)
  - AVAILABLE (ูุชุงุญ)
  - PICKED_UP (ุชู ุงุณุชูุงูุงู)
  - RETURNED (ุชู ุฅุฑุฌุงุนู)
  - CANCELLED (ููุบู)
- `rent_start_date` (date, nullable) - ุชุงุฑูุฎ ุจุฏุก ุงูุฅูุฌุงุฑ
- `rent_end_date` (date, nullable) - ุชุงุฑูุฎ ููุงูุฉ ุงูุฅูุฌุงุฑ
- `rent_days` (unsignedInteger, nullable) - ุนุฏุฏ ุฃูุงู ุงูุฅูุฌุงุฑ
- `deposit_amount` (decimal(10,2), nullable) - ูุจูุบ ุงูุถูุงู
- `created_at`, `updated_at` (timestamps)

**ุงูููุงุฑุณ:**
- `order_id` - ููุจุญุซ ุงูุณุฑูุน ุนู ุนูุงุตุฑ ุทูุจ
- `item_id` - ููุจุญุซ ุนู ุนูุงุตุฑ ููุชุฌ ูุนูู
- `item_status` - ููุชุตููุฉ ุญุณุจ ุญุงูุฉ ุงูููุชุฌ

**ุงูุนูุงูุงุช:**
- โ ูุฑุชุจุท ูุน Orders (ูุงุญุฏ ูููุซูุฑ)
- โ ูุฑุชุจุท ูุน Items (ูุงุญุฏ ูููุซูุฑ)

**ููุงุญุธุงุช:**
- subtotal ููุญุณุจ ุชููุงุฆูุงู ุนูุฏ ุงูุฅูุดุงุก
- rent_days ููุญุณุจ ูู ุงููุฑู ุจูู rent_start_date ู rent_end_date
- item_status ูุชุชุจุน ุญุงูุฉ ุงูููุชุฌ ุงููุฑุฏู ูู ุงูุทูุจ

---

### 16. ุฌุฏูู Order QR Codes (ุฑููุฒ QR ูุงุณุชูุงู ุงูุทูุจุงุช)
**ุงููุตู:** ูุญุชูู ุนูู ุฑููุฒ QR ุงููุฑูุฏุฉ ูุงูุขููุฉ ููู ุทูุจ ุงุณุชูุงู ูู ุงููุชุฌุฑ

**ุงูุญููู:**
- `id` (PRIMARY KEY) - ูุนุฑู ูุฑูุฏ
- `order_id` (FOREIGN KEY, UNIQUE) โ Orders - ูุนุฑู ุงูุทูุจ
- `qr_code` (string, UNIQUE) - ุงูุฑูุฒ ุงููุฑูุฏ (SHA-256 hash)
- `qr_data` (json) - ุจูุงูุงุช QR ุงููุดูุฑุฉ:
  ```json
  {
    "order_id": 123,
    "order_number": "20260126-0001",
    "timestamp": 1706266800,
    "hash": "sha256_hash"
  }
  ```
- `qr_image_path` (string, nullable) - ูุณุงุฑ ุตูุฑุฉ QR
- `status` (enum) - ุญุงูุฉ QR:
  - ACTIVE (ูุดุท - ุฌุงูุฒ ููุงุณุชุฎุฏุงู)
  - USED (ูุณุชุฎุฏู - ุชู ูุณุญู)
  - EXPIRED (ููุชูู ุงูุตูุงุญูุฉ)
  - CANCELLED (ููุบู)
- `expiry_date` (timestamp) - ุชุงุฑูุฎ ุงูุชูุงุก ุงูุตูุงุญูุฉ (24 ุณุงุนุฉ ูู ุฅูุดุงุก ุงูุทูุจ)
- `scanned_at` (timestamp, nullable) - ููุช ุงููุณุญ ุงูุฃูู
- `scanned_by_user_id` (FOREIGN KEY, nullable) โ Users - ูุนุฑู ููุธู ุงููุชุฌุฑ ุงูุฐู ูุณุญู
- `scan_count` (unsignedInteger, default: 0) - ุนุฏุฏ ูุฑุงุช ุงููุณุญ
- `scan_history` (json, nullable) - ุณุฌู ุงููุณุญุงุช
- `created_at`, `updated_at` (timestamps)

**ุงูููุงุฑุณ:**
- `order_id` - ูุฑูุฏ
- `qr_code` - ูุฑูุฏ
- `status` - ููุจุญุซ ุนู QRs ุงููุดุทุฉ
- `expiry_date` - ููุจุญุซ ุนู QRs ุงูููุชููุฉ
- `scanned_by_user_id` - ููุจุญุซ ุนู QRs ุงููุณุญูุกุฉ ุจููุธู ูุนูู

**ุงูุนูุงูุงุช:**
- โ ูุฑุชุจุท ูุน Orders (ูุงุญุฏ ูููุงุญุฏ)
- โ ูุฑุชุจุท ูุน Users (ูุงุญุฏ ูููุซูุฑ - ููุธู ุงููุณุญ)

**ููุงุญุธุงุช:**
- QR Code ููููุฏ ุชููุงุฆูุงู ุนูุฏ ุฅูุดุงุก ุทูุจ ุงุณุชูุงู ูู ุงููุชุฌุฑ
- ูุง ูููู ุงุณุชุฎุฏุงู ููุณ QR ูุฑุชูู (One-time use)
- Expiry Date ููุญุณุจ ุชููุงุฆูุงู ูู: created_at + 24 ุณุงุนุฉ
- Scan History ูุญุชูุธ ุจุณุฌู ูุงูู ููู ูุญุงููุฉ ูุณุญ

---

### 17. ุฌุฏูู Order Tracking (ุชุชุจุน ุชุบููุฑุงุช ุงูุทูุจุงุช)
**ุงููุตู:** ุฌุฏูู ุชุฏููู (Audit Log) ูุณุฌู ุฌููุน ุชุบููุฑุงุช ุญุงูุฉ ุงูุทูุจ

**ุงูุญููู:**
- `id` (PRIMARY KEY) - ูุนุฑู ูุฑูุฏ
- `order_id` (FOREIGN KEY) โ Orders - ูุนุฑู ุงูุทูุจ
- `old_status` (enum, nullable) - ุงูุญุงูุฉ ุงูุณุงุจูุฉ
- `new_status` (enum) - ุงูุญุงูุฉ ุงูุฌุฏูุฏุฉ
- `event_type` (enum) - ููุน ุงูุญุฏุซ:
  - CREATED (ุฅูุดุงุก)
  - STATUS_CHANGED (ุชุบููุฑ ุงูุญุงูุฉ)
  - PAYMENT_CONFIRMED (ุชุฃููุฏ ุงูุฏูุน)
  - QR_GENERATED (ุชูููุฏ QR)
  - QR_SCANNED (ูุณุญ QR)
  - PICKUP_COMPLETED (ุฅููุงู ุงูุงุณุชูุงู)
  - CANCELLED (ุฅูุบุงุก)
  - EXPIRED (ุงูุชูุงุก ุงูุตูุงุญูุฉ)
- `actor_id` (FOREIGN KEY, nullable) โ Users - ูุนุฑู ุงููุณุชุฎุฏู/ุงูููุธู ุงูุฐู ูุงู ุจุงููุนู
- `actor_type` (string, default: 'system') - ููุน ุงูููุซู: SYSTEM (ุงููุธุงู)ุ CUSTOMER (ุนููู)ุ STAFF (ููุธู)ุ ADMIN (ุฅุฏุงุฑุฉ)
- `details` (json, nullable) - ุชูุงุตูู ุฅุถุงููุฉ
- `ip_address` (string, nullable) - ุนููุงู IP (ููููุธููู)
- `user_agent` (text, nullable) - ูุนูููุงุช ุงููุชุตูุญ
- `created_at` (timestamp)

**ุงูููุงุฑุณ:**
- `order_id` - ููุจุญุซ ุงูุณุฑูุน ุนู ุชุบููุฑุงุช ุทูุจ
- `event_type` - ููุจุญุซ ุญุณุจ ููุน ุงูุญุฏุซ
- `actor_id` - ููุจุญุซ ุนู ุฅุฌุฑุงุกุงุช ููุธู ูุนูู
- `created_at` - ููุชุฑุชูุจ ุงูุฒููู

**ุงูุนูุงูุงุช:**
- โ ูุฑุชุจุท ูุน Orders (ูุงุญุฏ ูููุซูุฑ)
- โ ูุฑุชุจุท ูุน Users (ูุงุญุฏ ูููุซูุฑ - ุงูููุซู)

**ููุงุญุธุงุช:**
- ุฌุฏูู ุบูุฑ ูุงุจู ููุชุนุฏูู (Immutable) - ููุชุฏููู
- ูููุดุฃ ุชุณุฌูู ุฌุฏูุฏ ุนูุฏ ูู ุชุบููุฑ
- Null ูู actor_id ูุนูู ุฃู ุงููุธุงู ูู ูู ูุงู ุจุงููุนู (ูุซู ุงูุชูุงุก ุชููุงุฆู)

---

### 18. ุฌุฏูู Store Transactions (ูุนุงููุงุช ุงููุชุฌุฑ)
**ุงููุตู:** ูุณุฌู ุฌููุน ุงููุนุงููุงุช ุงููุงููุฉ ูุงูุฅุฏุงุฑูุฉ ุนูู ูุณุชูู ุงููุชุฌุฑ

**ุงูุญููู:**
- `id` (PRIMARY KEY) - ูุนุฑู ูุฑูุฏ
- `order_id` (FOREIGN KEY, nullable) โ Orders - ูุนุฑู ุงูุทูุจ ุงููุชุนูู
- `store_id` (FOREIGN KEY) โ inspection_centers - ูุนุฑู ูุชุฌุฑ ุงูุงุณุชูุงู
- `staff_user_id` (FOREIGN KEY) โ Users - ูุนุฑู ููุธู ุงููุชุฌุฑ
- `transaction_type` (enum) - ููุน ุงููุนุงููุฉ:
  - PICKUP_SCAN (ูุณุญ ูุงุณุชูุงู)
  - PAYMENT_RECEIVED (ุงุณุชูุจุงู ุฏูุน)
  - REFUND (ุงุณุชุฑุฌุงุน)
  - RETURN (ุฅุฑุฌุงุน ููุชุฌ)
  - CANCELLATION (ุฅูุบุงุก)
  - ADJUSTMENT (ุชุนุฏูู)
- `amount` (decimal(10,2)) - ุงููุจูุบ ุงููุงูู
- `currency` (string, default: 'SAR') - ุงูุนููุฉ
- `payment_method` (enum, nullable) - ุทุฑููุฉ ุงูุฏูุน: CASHุ CARDุ TRANSFERุ ONLINE
- `reference_number` (string, nullable) - ุฑูู ูุฑุฌุนู (ุฑูู ุงูุฏูุน/ุงูุฅูุตุงู)
- `notes` (text, nullable) - ููุงุญุธุงุช ุชูุถูุญูุฉ
- `device_id` (string, nullable) - ูุนุฑู ุงูุฌูุงุฒ ุงููุณุชุฎุฏู (POS/Mobile)
- `ip_address` (string, nullable) - ุนููุงู IP
- `created_at` (timestamp)

**ุงูููุงุฑุณ:**
- `order_id` - ููุจุญุซ ุนู ูุนุงููุงุช ุทูุจ ูุนูู
- `store_id` - ููุจุญุซ ุนู ูุนุงููุงุช ูุชุฌุฑ ูุนูู
- `staff_user_id` - ููุจุญุซ ุนู ูุนุงููุงุช ููุธู ูุนูู
- `transaction_type` - ููุชุตููุฉ ุญุณุจ ููุน ุงููุนุงููุฉ
- `created_at` - ููุชุฑุชูุจ ุงูุฒููู
- `(store_id, created_at)` - ููุจุญุซ ุงูุณุฑูุน ุนู ูุนุงููุงุช ูุชุฌุฑ ูู ูุชุฑุฉ ุฒูููุฉ

**ุงูุนูุงูุงุช:**
- โ ูุฑุชุจุท ูุน Orders (ูุงุญุฏ ูููุซูุฑ)
- โ ูุฑุชุจุท ูุน InspectionCenters (ูุงุญุฏ ูููุซูุฑ)
- โ ูุฑุชุจุท ูุน Users (ูุงุญุฏ ูููุซูุฑ - ุงูููุธู)

**ููุงุญุธุงุช:**
- ุฌุฏูู ุบูุฑ ูุงุจู ููุชุนุฏูู - ููุท ุงููุฑุงุกุฉ ูุงูุฅุฏุฑุงุฌ
- ููุณุชุฎุฏู ูุฅุนุงุฏุฉ ุชุตุฏูุฑ ุงูุจูุงูุงุช ุงููุงููุฉ
- ูุญุชูุธ ุจุณุฌู ูุงูู ูููุนุงููุงุช ุงูููููุฉ

---

## ุฌุฏุงูู ุงููุธุงู ุงูุฅุถุงููุฉ

### 19. ุฌุฏูู Cache (ุงูุฐุงูุฑุฉ ุงููุคูุชุฉ)
**ุงููุตู:** ุฌุฏูู ุงุฎุชูุงุฑู ูุชุฎุฒูู ุจูุงูุงุช ุงูุฐุงูุฑุฉ ุงููุคูุชุฉ

**ุงูุญููู:**
- `key` (string, PRIMARY KEY) - ููุชุงุญ ุงูุฐุงูุฑุฉ ุงููุคูุชุฉ
- `value` (longText) - ุงููููุฉ ุงููุฎุฒูุฉ
- `expiration` (integer) - ููุช ุงูุชูุงุก ุงูุตูุงุญูุฉ

---

### 20. ุฌุฏูู Jobs (ุงูููุงู)
**ุงููุตู:** ุฌุฏูู ูุชุฎุฒูู ุงูููุงู ุงููุฌุฏููุฉ ูุงูุนูููุงุช ุงูุฏูุนูุฉ

**ุงูุญููู:**
- `id` (BIGINT, PRIMARY KEY) - ูุนุฑู ูุฑูุฏ
- `queue` (string) - ุงุณู ุงูุทุงุจูุฑ
- `payload` (longText) - ุจูุงูุงุช ุงููููุฉ
- `attempts` (unsignedTinyInteger) - ุนุฏุฏ ูุญุงููุงุช ุงูุชูููุฐ
- `reserved_at` (timestamp, nullable) - ููุช ุญุฌุฒ ุงููููุฉ
- `available_at` (timestamp) - ููุช ุชููุฑ ุงููููุฉ ููุชูููุฐ
- `created_at` (timestamp)

---

### 21. ุฌุฏูู Sessions (ุงูุฌูุณุงุช)
**ุงููุตู:** ุฌุฏูู ูุชุฎุฒูู ุฌูุณุงุช ุงููุณุชุฎุฏููู

**ุงูุญููู:**
- `id` (string, PRIMARY KEY) - ูุนุฑู ุงูุฌูุณุฉ ุงููุฑูุฏ
- `user_id` (unsignedBigInteger, nullable) - ูุนุฑู ุงููุณุชุฎุฏู
- `ip_address` (string(45), nullable) - ุนููุงู IP
- `user_agent` (text, nullable) - ูุนูููุงุช ุงููุชุตูุญ
- `payload` (longText) - ุจูุงูุงุช ุงูุฌูุณุฉ
- `last_activity` (integer, indexed) - ุขุฎุฑ ููุช ูุดุงุท

**ุงูููุงุฑุณ:**
- `user_id` - ููุจุญุซ ุงูุณุฑูุน ุนู ุฌูุณุงุช ุงููุณุชุฎุฏู

---

### 22. ุฌุฏูู Password Reset Tokens (ุฑููุฒ ุฅุนุงุฏุฉ ุชุนููู ูููุฉ ุงููุฑูุฑ)
**ุงููุตู:** ุฌุฏูู ูุคูุช ูุฑููุฒ ุฅุนุงุฏุฉ ุชุนููู ูููุฉ ุงููุฑูุฑ

**ุงูุญููู:**
- `email` (string, PRIMARY KEY) - ุงูุจุฑูุฏ ุงูุฅููุชุฑููู
- `token` (string) - ุงูุฑูุฒ ุงููุฑูุฏ
- `created_at` (timestamp, nullable)

---

## ุฎุฑูุทุฉ ุงูุนูุงูุงุช ุงูุดุงููุฉ

### ุงูุนูุงูุงุช ุงูุฑุฆูุณูุฉ:

```
Users (ุงููุณุชุฎุฏููู)
โโโ 1:1 โ user_profiles (ุงููููุงุช ุงูุดุฎุตูุฉ)
โโโ 1:N โ items (ุงูููุชุฌุงุช)
โโโ 1:N โ requests (ุงูุทูุจุงุช)
โโโ 1:N โ offers (ุงูุนุฑูุถ)
โโโ 1:N โ approvals (ุงููุนุชูุฏูุงุช - ููุฑุณู)
โโโ 1:N โ approvals (ุงููุนุชูุฏูุงุช - ููุฑุงุฌุน)
โโโ 1:N โ admin_actions_logs (ุงูุณุฌูุงุช)
โโโ 1:N โ orders (ุงูุทูุจุงุช - ูุนููู)
โโโ 1:N โ order_qr_codes (QR Codes - ููุธู ุงููุณุญ)
โโโ 1:N โ store_transactions (ูุนุงููุงุช ุงููุชุฌุฑ)

Categories (ุงููุฆุงุช)
โโโ 1:N โ Categories (ุนูุงูุฉ ุชูุฑุงุฑูุฉ - ูุฆุงุช ูุฑุนูุฉ)
โโโ 1:N โ items (ุงูููุชุฌุงุช)
โโโ 1:N โ requests (ุงูุทูุจุงุช)
โโโ N:N โ attributes (ุนุจุฑ category_attribute)

Attributes (ุงูุฎุตุงุฆุต)
โโโ 1:N โ attribute_values (ุงูููู)
โโโ N:N โ categories (ุนุจุฑ category_attribute)
โโโ 1:N โ item_attributes (ุฎุตุงุฆุต ุงูููุชุฌุงุช ูุงูุทูุจุงุช)

Items (ุงูููุชุฌุงุช)
โโโ 1:N โ item_images (ุงูุตูุฑ)
โโโ 1:N โ item_attributes (ุงูุฎุตุงุฆุต)
โโโ 1:N โ offers (ุงูุนุฑูุถ)
โโโ 1:N โ approvals (ุงููุนุชูุฏูุงุช)
โโโ 1:N โ order_items (ุนูุงุตุฑ ุงูุทูุจุงุช)

Requests (ุงูุทูุจุงุช)
โโโ 1:N โ offers (ุงูุนุฑูุถ)
โโโ 1:N โ item_attributes (ุงูุฎุตุงุฆุต)
โโโ 1:N โ approvals (ุงููุนุชูุฏูุงุช)

Offers (ุงูุนุฑูุถ)
โโโ N:1 โ Requests (ุงูุทูุจุงุช)
โโโ N:1 โ Users (ููุฏูู ุงูุนุฑูุถ)
โโโ N:1 โ Items (ุงูููุชุฌุงุช ุงููุนุฑูุถุฉ)

InspectionCenters (ูุฑุงูุฒ ุงููุญุต/ุงููุชุงุฌุฑ)
โโโ 1:N โ orders (ุงูุทูุจุงุช - ููุชุฌุฑ ุงุณุชูุงู)
โโโ 1:N โ store_transactions (ูุนุงููุงุช ุงููุชุฌุฑ)

Orders (ุงูุทูุจุงุช - ูุธุงู ุฌุฏูุฏ)
โโโ N:1 โ Users (ุงูุนููู)
โโโ N:1 โ InspectionCenters (ูุชุฌุฑ ุงูุงุณุชูุงู)
โโโ 1:N โ order_items (ุนูุงุตุฑ ุงูุทูุจ)
โโโ 1:1 โ order_qr_codes (ุฑูุฒ QR)
โโโ 1:N โ order_trackings (ุชุชุจุน ุงูุชุบููุฑุงุช)
โโโ 1:N โ store_transactions (ุงููุนุงููุงุช ุงููุงููุฉ)

OrderItems (ุนูุงุตุฑ ุงูุทูุจ)
โโโ N:1 โ Orders (ุงูุทูุจ)
โโโ N:1 โ Items (ุงูููุชุฌ)

OrderQrCodes (ุฑููุฒ QR)
โโโ 1:1 โ Orders (ุงูุทูุจ)
โโโ N:1 โ Users (ููุธู ุงููุณุญ)

OrderTracking (ุชุชุจุน ุงูุทูุจุงุช)
โโโ N:1 โ Orders (ุงูุทูุจ)
โโโ N:1 โ Users (ุงูููุซู - ุงูููุธู/ุงูุฅุฏุงุฑุฉ)

StoreTransactions (ูุนุงููุงุช ุงููุชุฌุฑ)
โโโ N:1 โ Orders (ุงูุทูุจ)
โโโ N:1 โ InspectionCenters (ุงููุชุฌุฑ)
โโโ N:1 โ Users (ููุธู ุงููุชุฌุฑ)
```

### ุนูุงูุงุช ุงูุจูุงูุงุช ุงููุนูุฏุฉ:

**ุชุฏูู ุงูุทูุจ:**
```
1. ุงูุนููู ููุดุฆ Order
   โ
2. ูููุดุฃ OrderItem ููู ููุชุฌ
   โ
3. if IN_STORE_PICKUP:
   - ูููุดุฃ OrderQrCode ูุน SHA-256
   - ููุญูุธ qr_image_path
   โ
4. ุนูุฏ ุงูุงุณุชูุงู:
   - ูููุณุญ QR ูู ูุจู ุงูููุธู
   - ูููุดุฃ OrderTracking (QR_SCANNED)
   - ูููุดุฃ StoreTransaction (PICKUP_SCAN)
   โ
5. ุนูุฏ ุชุฃููุฏ ุงูุงุณุชูุงู:
   - ุชูุญุฏุซ order_items (item_status = PICKED_UP)
   - ููุญุฏุซ order (status = COMPLETED)
   - ูููุดุฃ OrderTracking (PICKUP_COMPLETED)
   - ูููุดุฃ StoreTransaction (PAYMENT_RECEIVED)
```

---

## ููุงุญุธุงุช ูููุฉ

### ููุงุนุฏ ุงูุญุฐู (Delete Cascading):
- ุญุฐู ูุณุชุฎุฏู โ ูุญุฐู: user_profile, items, requests, offers (ูููุฏู), approvals (ููุฑุณู ูููุฑุงุฌุน), admin_actions_logsุ orders (ุฎูุงุฑู)
- ุญุฐู ูุฆุฉ ุฑุฆูุณูุฉ โ ูุญุฐู: ุฌููุน ุงููุฆุงุช ุงููุฑุนูุฉ
- ุญุฐู ููุชุฌ โ ูุญุฐู: item_images, item_attributes, offers (ุนูุฏ ูุฌูุฏ item_id)ุ order_items (ูุฏ ุชุจูู ูุน NULL item_id)
- ุญุฐู ุทูุจ โ ูุญุฐู: ุฌููุน ุงูุนุฑูุถ ุนููู ู item_attributes ุงููุฑุชุจุทุฉ

### ุงูุญููู ุงููููุฉ:
- `operation_type`: ููุฌูุฏ ูู ุฌุฏุงูู items ู offers - ูุญุฏุฏ ููุน ุงูุนูููุฉ (ุจูุน/ุฅูุฌุงุฑ/ุชุจุฑุน)
- `status`: ููุฌูุฏ ูู ุฌุฏุงูู requests ู offers ู approvals - ูุชุชุจุน ุญุงูุฉ ูู ูุงุฆู
- ุงูุนูุงูุงุช Polymorphic ูู `item_attributes` ู `approvals` ุชุณูุญ ุจูุฑููุฉ ุฃูุจุฑ

### ุงูููุงุฑุณ ุงููุชูุฏูุฉ:
- ุฌููุน ุงูุฌุฏุงูู ุงูุฑุฆูุณูุฉ ููุง ููุงุฑุณ ุนูู ุงูููุงุชูุญ ุงูุฎุงุฑุฌูุฉ ูุชุญุณูู ุงูุฃุฏุงุก
- ุฌุฏุงูู ุงูุฑุจุท (Junction Tables) ููุง ููุงุฑุณ ูุฑูุจุฉ (Composite Indexes) ูุฑูุฏุฉ ูููุน ุงูุชูุฑุงุฑ

---

## ุฅุญุตุงุฆูุงุช ุงูุฌุฏุงูู

| ุงูุฌุฏูู | ุงูููุน | ุงูุบุฑุถ |
|--------|-------|-------|
| users | ุฃุณุงุณู | ุจูุงูุงุช ุงููุณุชุฎุฏููู |
| user_profiles | ุชูุณูุน | ูุนูููุงุช ุฅุถุงููุฉ ูููุณุชุฎุฏู |
| categories | ูุญุชูู | ุชุตูููุงุช ุงูููุชุฌุงุช |
| attributes | ูุญุชูู | ุฎุตุงุฆุต ุงูููุชุฌุงุช |
| attribute_values | ูุญุชูู | ููู ุงูุฎุตุงุฆุต |
| category_attribute | ุฑุจุท | ุฑุจุท ุงููุฆุงุช ุจุงูุฎุตุงุฆุต |
| items | ูุญุชูู | ุงูููุชุฌุงุช |
| item_images | ูุญุชูู | ุตูุฑ ุงูููุชุฌุงุช |
| item_attributes | ูุญุชูู | ุฎุตุงุฆุต ุงูููุชุฌุงุช ูุงูุทูุจุงุช |
| requests | ูุญุชูู | ุทูุจุงุช ุงููุณุชุฎุฏููู |
| offers | ูุญุชูู | ุงูุนุฑูุถ ุนูู ุงูุทูุจุงุช |
| approvals | ุฅุฏุงุฑุฉ | ุงููุนุชูุฏูุงุช |
| admin_actions_logs | ุณุฌูุงุช | ุณุฌูุงุช ุงูุฅุฌุฑุงุกุงุช |
| **orders** | **ุฌุฏูุฏ** | **ุงูุทูุจุงุช ุงูุฑุฆูุณูุฉ** |
| **order_items** | **ุฌุฏูุฏ** | **ุนูุงุตุฑ ุงูุทูุจุงุช** |
| **order_qr_codes** | **ุฌุฏูุฏ** | **ุฑููุฒ QR** |
| **order_tracking** | **ุฌุฏูุฏ** | **ุชุชุจุน ุงูุชุบููุฑุงุช** |
| **store_transactions** | **ุฌุฏูุฏ** | **ูุนุงููุงุช ุงููุชุงุฌุฑ** |
| cache | ูุธุงู | ุงูุฐุงูุฑุฉ ุงููุคูุชุฉ |
| jobs | ูุธุงู | ุงูููุงู ุงููุฌุฏููุฉ |
| sessions | ูุธุงู | ุฌูุณุงุช ุงููุณุชุฎุฏููู |
| password_reset_tokens | ูุธุงู | ุฑููุฒ ุฅุนุงุฏุฉ ุชุนููู ุงููุฑูุฑ |
| **inspection_centers** | **ูุญุฏูุซ** | **ูุฑุงูุฒ ุงููุญุต/ุงููุชุงุฌุฑ** |

---

## ุงูุชุญุฏูุซุงุช ุนูู ุงูุฌุฏุงูู ุงููุฏููุฉ

### โ๏ธ ุชุญุฏูุซ ุฌุฏูู Users (ุงููุณุชุฎุฏููู)

**ุงูุญููู ุงููุถุงูุฉ:**
- `user_type` (enum) - ููุน ุงููุณุชุฎุฏู ุงููุฑุฎุต ูู:
  - `CUSTOMER` - ุนููู (ูุดุชุฑู/ูุณุชุฃุฌุฑ)
  - `SELLER` - ุจุงุฆุน (ูุถูู ููุชุฌุงุช)
  - `STORE_STAFF` - ููุธู ูุชุฌุฑ (ููุณุญ QR)
  - `INSPECTOR` - ููุชุด/ููุธู ุฌูุฏุฉ
  - `COURIER` - ุนุงูู ุชูุตูู
  - `ADMIN` - ูุณุคูู ุงููุธุงู

**ุงูุชุฃุซูุฑ:**
- ูุณูุญ ุจุงูุชุญูู ูู ุตูุงุญูุงุช ุงููุณุชุฎุฏู
- ูุญุฏุฏ ูู ููููู ุงููุตูู ุฅูู API endpoints ุงููุฎุชููุฉ
- ููุนูู ุงูุชุญูู ูู ุงูุฃุฏูุงุฑ ูู Controllers

**ูุซุงู ุงูุงุณุชุฎุฏุงู:**
```php
// ูู StorePickupController
if ($user->user_type !== UserType::STORE_STAFF) {
    return unauthorized();
}
```

---

### โ๏ธ ุชุญุฏูุซ ุฌุฏูู Items (ุงูููุชุฌุงุช)

**ุงูุญููู ุงููุถุงูุฉ:**
- `item_status` (enum) - ุญุงูุฉ ุงูููุชุฌ:
  - `AVAILABLE` (ูุชุงุญ - ูู ูุชู ุญุฌุฒู)
  - `RESERVED` (ูุญุฌูุฒ - ุญุฌุฒู ุนููู)
  - `IN_ORDER` (ูู ุทูุจ - ุฌุฒุก ูู ุทูุจ ูุฏูู)
  - `RETURNED` (ุชู ุฅุฑุฌุงุนู)
  - `DAMAGED` (ุชุงูู)
  - `LOST` (ููููุฏ)
  - `DELETED` (ุญูุฐู)

- `store_price` (decimal(10,2), nullable) - ุงูุณุนุฑ ุงููุนุฑูุถ ูู ุงููุชุฌุฑ
  - ูุฏ ูุฎุชูู ุนู original_price ููุนุฑูุถ ุงูุฎุงุตุฉ

- `reservation_expiry` (timestamp, nullable) - ุงูุชูุงุก ุตูุงุญูุฉ ุงูุญุฌุฒ
  - ุนูุฏ ุงูุชูุงุก ุงูุตูุงุญูุฉุ ูุนูุฏ item_status ุฅูู AVAILABLE

**ุงูููุงุฑุณ ุงูุฌุฏูุฏุฉ:**
- `item_status` - ููุจุญุซ ุงูุณุฑูุน ุนู ุงูููุชุฌุงุช ุงููุชุงุญุฉ

**ุงูุชุฃุซูุฑ:**
- ูุณูุญ ุจุชุชุจุน ุญุงูุฉ ูู ููุชุฌ
- ูููุน ุงูุญุฌุฒ ุงููุฒุฏูุฌ
- ูููุฑ ูุนูููุงุช ุนู ุชููุฑูุฉ ุงูููุชุฌ

---

### โ๏ธ ุชุญุฏูุซ ุฌุฏูู InspectionCenters (ูุฑุงูุฒ ุงููุญุต)

**ุงูุญููู ุงููุถุงูุฉ:**
- `is_pickup_location` (boolean, default: false) - ูู ูููู ุงูุงุณุชูุงู ูู ููุงุ

- `pickup_hours_from` (time, nullable) - ูู ุฃู ุณุงุนุฉ ูููู ุงูุงุณุชูุงูุ
- `pickup_hours_to` (time, nullable) - ุฅูู ุฃู ุณุงุนุฉุ

- `phone` (string, nullable) - ุฑูู ุงููุงุชู
- `email` (string, nullable) - ุงูุจุฑูุฏ ุงูุฅููุชุฑููู
- `address` (text, nullable) - ุงูุนููุงู ุงููุงูู
- `city` (string, nullable) - ุงููุฏููุฉ

**ุงูุชุฃุซูุฑ:**
- ูุญูู ุงููุฑุงูุฒ ุฅูู ููุงุท ุงุณุชูุงู
- ูุณูุญ ุจุนุฑุถ ุณุงุนุงุช ุงูุนูู ููุนููุงุก
- ูููุฑ ูุนูููุงุช ุงูุงุชุตุงู

**ูุซุงู ุงูุงุณุชุฎุฏุงู:**
```php
// ูู StorePickupController
$pickupStore = InspectionCenter::where('is_pickup_location', true)
    ->find($storeId);
    
if (!$pickupStore->isOpenNow()) {
    return error('ุงููุชุฌุฑ ูุบูู ุญุงููุงู');
}
```

---

## ุงูุชุงุฑูุฎ ูุงูุฅุตุฏุงุฑ

- **ุขุฎุฑ ุชุญุฏูุซ:** 2026-01-26
- **ุงูุฅุตุฏุงุฑ:** 3.0
- **ุงููุดุฑูุน:** ููุตุฉ ุฎุฒุงูุฉ ูุชุฃุฌูุฑ ูุจูุน ุงูููุงุจุณ

---

## ุงูุชุบููุฑุงุช ุงูุญุฏูุซุฉ (ุงูุฅุตุฏุงุฑ 3.0)

### ุฅุถุงูุงุช ุฌุฏูุฏุฉ:
โ **ุฌุฏูู Orders** - ูุธุงู ุงูุทูุจุงุช ุงูุฑุฆูุณู ูุน ุฏุนู ุงูุชูุตูู ูุงูุงุณุชูุงู ูู ุงููุชุฌุฑ
โ **ุฌุฏูู OrderItems** - ุนูุงุตุฑ ุงูุทูุจ ูุน ุชูุงุตูู ุงูุชุณุนูุฑ ูุงูุนูููุงุช
โ **ุฌุฏูู OrderQrCodes** - ุฑููุฒ QR ุขููุฉ ูุน ุชูููุน ุฑููู SHA-256
โ **ุฌุฏูู OrderTracking** - ุชุชุจุน ุดุงูู ูุฌููุน ุชุบููุฑุงุช ุญุงูุฉ ุงูุทูุจ (Audit Log)
โ **ุฌุฏูู StoreTransactions** - ุชุณุฌูู ุฌููุน ุงููุนุงููุงุช ุงููุงููุฉ ูุงูุฅุฏุงุฑูุฉ ูู ุงููุชุฌุฑ

### ุชุญุฏูุซุงุช ุนูู ุงูุฌุฏุงูู ุงููุฏููุฉ:
๐ **ุฌุฏูู Items:**
- ุฅุถุงูุฉ `item_status` - ุญุงูุฉ ุงูููุชุฌ (AVAILABLE/RESERVED/etc)
- ุฅุถุงูุฉ `store_price` - ุณุนุฑ ุงููุชุฌุฑ (ูุฎุชูู ุนู ุณุนุฑ ุงูุจุงุฆุน)
- ุฅุถุงูุฉ `reservation_expiry` - ุงูุชูุงุก ุตูุงุญูุฉ ุงูุญุฌุฒ

๐ **ุฌุฏูู Users:**
- ุฅุถุงูุฉ `user_type` - ููุน ุงููุณุชุฎุฏู (CUSTOMER/SELLER/STORE_STAFF/INSPECTOR/COURIER/ADMIN)

๐ **ุฌุฏูู InspectionCenters:**
- ุฅุถุงูุฉ `is_pickup_location` - ูู ูููู ุงูุงุณุชูุงู ูู ููุง
- ุฅุถุงูุฉ ุญููู ุงูุณุงุนุงุช ุงูุนูู ูุงูุงุชุตุงู

### ุงููููุฒุงุช ุงูุฌุฏูุฏุฉ:
๐ **ุฃูุงู QR Code:**
- ุชูููุน ุฑููู SHA-256 ูุฑูุฏ
- ุตูุงุญูุฉ ูุญุฏูุฏุฉ (24 ุณุงุนุฉ)
- ุงุณุชุฎุฏุงู ููุฑุฉ ูุงุญุฏุฉ ููุท
- ุณุฌู ูุงูู ูููุณุญุงุช

๐ **ุงูุชุชุจุน ุงูุดุงูู:**
- Immutable Audit Log
- ุชุณุฌูู ุฌููุน ุงูุฃุญุฏุงุซ
- ุชุชุจุน ุงูููุธููู ูุงูุนูููุงุช

๐ฐ **ุฅุฏุงุฑุฉ ุงููุนุงููุงุช:**
- ุณุฌู ุงููุนุงููุงุช ุงููุงููุฉ
- ุชุชุจุน ุฃููุงุน ุงูุฏูุน
- ุฏุนู ุงูุชุญููู ูุงูุชูุงุฑูุฑ

